/**
 ***********************************************************************************************************************
 * @file           : drv-key.c
 * @brief          : 按键对象
 * @author         : 李嘉豪
 * @date           : 2025-07-06
 ***********************************************************************************************************************
 * @attention
 *
 * 按键的一些属性和方法
 *
 ***********************************************************************************************************************
 **/




/* ------- includes --------------------------------------------------------------------------------------------------*/

#include "drv-key.h"




/* ------- typedef ---------------------------------------------------------------------------------------------------*/





/* ------- define ----------------------------------------------------------------------------------------------------*/





/* ------- macro -----------------------------------------------------------------------------------------------------*/





/* ------- function prototypes ---------------------------------------------------------------------------------------*/





/* ------- variables -------------------------------------------------------------------------------------------------*/





/* ------- function implement ----------------------------------------------------------------------------------------*/


void keyInit(KeyObjTypeDef* keyObj, GPIOPortEnum port, GPIOPinEnum pin) {
    keyObj->port       = port;
    keyObj->pin        = pin;
    keyObj->pressed    = 0;
    keyObj->pressTimer = softTimerRegister();

    pinInitWithEXTI(port, pin, INPUT_PULL_UP, FALLING_EDGE);
}
